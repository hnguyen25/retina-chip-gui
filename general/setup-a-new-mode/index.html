
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.9">
    
    
      
        <title>Setup a new view - DC1 Visualization</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.120efc48.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#set-up-a-new-mode" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DC1 Visualization" class="md-header__button md-logo" aria-label="DC1 Visualization" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DC1 Visualization
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Setup a new view
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DC1 Visualization" class="md-nav__button md-logo" aria-label="DC1 Visualization" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DC1 Visualization
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Setup a new view
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Setup a new view
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-mode" class="md-nav__link">
    What is a mode?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-develop-the-general-window-layout-in-qtdesigner" class="md-nav__link">
    Step 1. Develop the general window layout in QtDesigner
  </a>
  
    <nav class="md-nav" aria-label="Step 1. Develop the general window layout in QtDesigner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1a-building-the-gui-in-qtdesigner" class="md-nav__link">
    1a. Building the GUI in QtDesigner
  </a>
  
    <nav class="md-nav" aria-label="1a. Building the GUI in QtDesigner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-settings-for-creating-a-new-layout" class="md-nav__link">
    Initial settings for creating a new layout:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-to-making-the-gui" class="md-nav__link">
    Approach to making the GUI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyqtgraph-plots" class="md-nav__link">
    PyQtGraph plots:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-buttons" class="md-nav__link">
    Special buttons:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1b-naming-variables-for-use-in-the-codebase" class="md-nav__link">
    1b. Naming variables for use in the codebase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1d-save-the-designer-file" class="md-nav__link">
    1d. Save the designer file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-create-references-to-the-new-mode-in-the-codebase" class="md-nav__link">
    Step 2. Create references to the new mode in the codebase
  </a>
  
    <nav class="md-nav" aria-label="Step 2. Create references to the new mode in the codebase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2a-add-the-mode-to-the-startup-session-window" class="md-nav__link">
    2a. Add the mode to the startup session window
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2b-add-the-mode-to-init_charts" class="md-nav__link">
    2b. Add the mode to init_charts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2c-create-a-dedicated-file-in-srccontrollermodes" class="md-nav__link">
    2c. Create a dedicated file in /src/controller/modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2d" class="md-nav__link">
    2d.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setup-a-new-external-window/" class="md-nav__link">
        Setup a new external window
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../thread-logic.md" class="md-nav__link">
        Thread Logic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../updating-the-wiki.md" class="md-nav__link">
        Updating the wiki
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Source
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Source" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Source
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          model (data)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="model (data)" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          model (data)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model/data_loading_mat/" class="md-nav__link">
        data loading (.mat files)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model/data_loading_npz/" class="md-nav__link">
        data loading (.npz files)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model/DC1DataContainer/" class="md-nav__link">
        data structs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model/filters/" class="md-nav__link">
        filters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model/raw_data_helpers/" class="md-nav__link">
        raw data helpers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model/spike_detection/" class="md-nav__link">
        spike detection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model/statistics/" class="md-nav__link">
        statistics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          view (gui elements)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="view (gui elements)" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          view (gui elements)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../view/gui_themes/" class="md-nav__link">
        themes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../view/layouts/" class="md-nav__link">
        layouts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          controller
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="controller" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          controller
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_1" type="checkbox" id="__nav_4_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3_1">
          modes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="modes" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          modes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/modes/init_charts/" class="md-nav__link">
        initialize charts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/modes/mode_compression/" class="md-nav__link">
        compression
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/modes/mode_diagnostic/" class="md-nav__link">
        diagnostic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/modes/mode_noise/" class="md-nav__link">
        noise
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/modes/mode_spikefinding/" class="md-nav__link">
        spike finding (main)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/modes/mode_tracesearch/" class="md-nav__link">
        trace search
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_2" type="checkbox" id="__nav_4_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3_2">
          plots
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="plots" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          plots
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/plots/array_map/" class="md-nav__link">
        array map
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/plots/individual_channel_trace/" class="md-nav__link">
        realtime channel trace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/plots/realtime_channel_trace/" class="md-nav__link">
        individual channel trace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/plots/mini_map/" class="md-nav__link">
        mini map
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/plots/noise_heatmap/" class="md-nav__link">
        noise heatmap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/plots/noise_histogram.md" class="md-nav__link">
        noise histogram
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/plots/spike_rate/" class="md-nav__link">
        spike rate
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_3" type="checkbox" id="__nav_4_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3_3">
          windows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="windows" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_3">
          <span class="md-nav__icon md-icon"></span>
          windows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/windows/window_electrodelist/" class="md-nav__link">
        electrode list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/windows/window_individualchannel/" class="md-nav__link">
        individual channel analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/windows/window_profiler/" class="md-nav__link">
        profiler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/windows/window_sessionparameters/" class="md-nav__link">
        session parameters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../controller/windows/window_sessionstartup/" class="md-nav__link">
        session startup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-mode" class="md-nav__link">
    What is a mode?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-develop-the-general-window-layout-in-qtdesigner" class="md-nav__link">
    Step 1. Develop the general window layout in QtDesigner
  </a>
  
    <nav class="md-nav" aria-label="Step 1. Develop the general window layout in QtDesigner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1a-building-the-gui-in-qtdesigner" class="md-nav__link">
    1a. Building the GUI in QtDesigner
  </a>
  
    <nav class="md-nav" aria-label="1a. Building the GUI in QtDesigner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-settings-for-creating-a-new-layout" class="md-nav__link">
    Initial settings for creating a new layout:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-to-making-the-gui" class="md-nav__link">
    Approach to making the GUI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyqtgraph-plots" class="md-nav__link">
    PyQtGraph plots:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-buttons" class="md-nav__link">
    Special buttons:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1b-naming-variables-for-use-in-the-codebase" class="md-nav__link">
    1b. Naming variables for use in the codebase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1d-save-the-designer-file" class="md-nav__link">
    1d. Save the designer file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-create-references-to-the-new-mode-in-the-codebase" class="md-nav__link">
    Step 2. Create references to the new mode in the codebase
  </a>
  
    <nav class="md-nav" aria-label="Step 2. Create references to the new mode in the codebase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2a-add-the-mode-to-the-startup-session-window" class="md-nav__link">
    2a. Add the mode to the startup session window
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2b-add-the-mode-to-init_charts" class="md-nav__link">
    2b. Add the mode to init_charts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2c-create-a-dedicated-file-in-srccontrollermodes" class="md-nav__link">
    2c. Create a dedicated file in /src/controller/modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2d" class="md-nav__link">
    2d.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="set-up-a-new-mode">Set up a new mode</h1>
<p>Last updated: Feb 12, 2023 by Huy Nguyen</p>
<h2 id="what-is-a-mode">What is a mode?</h2>
<p>A mode is a way of viewing the data which comes out of the retina chip. Different modes are designed for different
purposes, such as checking noise statistics, viewing spike traces, or a mixture of general real-time data visualization.
On opening up the GUI application, the session startup window prompts the user for the mode which they want to view for
a particular session. The rest of this document will detail how to add a new mode to the GUI.</p>
<h2 id="step-1-develop-the-general-window-layout-in-qtdesigner">Step 1. Develop the general window layout in QtDesigner</h2>
<p>Qt Designer is a tool for quickly building graphical user interfaces with widgets from the Qt GUI framework. It gives
you a simple drag-and-drop interface for laying out components such as buttons, text fields, combo boxes and more.</p>
<p>To download: https://build-system.fman.io/qt-designer-download
For full documentation: https://doc.qt.io/qt-6/qtdesigner-manual.html</p>
<h3 id="1a-building-the-gui-in-qtdesigner">1a. Building the GUI in QtDesigner</h3>
<p>Full tutorials on Qt Designer can be found online. But here are some general tips which may be the most useful:</p>
<h4 id="initial-settings-for-creating-a-new-layout">Initial settings for creating a new layout:</h4>
<ul>
<li>
<p>Templates/forms: select "Main Window"</p>
</li>
<li>
<p>Screen Size: select "VGA Landscape" -&gt; you will also have to manually adjust the window size once you are in the
main editing window, as this is a pretty small window size.</p>
</li>
<li>
<p>You can also duplicate a previously existing mode .ui file and build off from there (much faster!).</p>
</li>
</ul>
<h4 id="approach-to-making-the-gui">Approach to making the GUI</h4>
<ul>
<li>
<p>The root of your layout hierarchy should begin with either a vertical, horizontal, or grid layout. This will allow
your GUI mode to expand and shrink depending on window size/full screen. Otherwise some weird clipping will happen.
In dividing up different areas of the GUI, nest more vertical/horizontal layouts. Examples of how this is done
can be seen in already developed modes (for instance "src/view/layouts/SpikeFinding.ui")</p>
</li>
<li>
<p>By default, this layouts are set up so that child widgets/layouts are given even vertical/horizontal space. You
can change that by selecting the parent layout object and in the property editor, set "LayoutStretch" to the desired
ratio. By default it is 1,1. Examples are 1,3 // 2, 3 // etc.</p>
</li>
</ul>
<h4 id="pyqtgraph-plots">PyQtGraph plots:</h4>
<p>PyQtGraph is a fast plotting library designed for PyQt (analogous to matplotlib). With a few exceptions, most
plots made will be created with PyQtGraph. In order for us to use this plotting library, we need to have
a special PlotWidget object in PyQt Designer. A brief tutorial of how to do this can be read here:
https://www.pythonguis.com/tutorials/pyside6-embed-pyqtgraph-custom-widgets/</p>
<h4 id="special-buttons">Special buttons:</h4>
<p>You can add buttons to the menu bar. Which will show up natively in Windows/Mac as a true app menu bar.</p>
<h3 id="1b-naming-variables-for-use-in-the-codebase">1b. Naming variables for use in the codebase</h3>
<p>The names of your layouts, plot widgets, and anything else you make in Qt Designer are very important as these will be
the exact variable names you will use to call these functions in the code. Name them as you would valid Python variables.</p>
<h3 id="1d-save-the-designer-file">1d. Save the designer file</h3>
<p>The QtDesigner files have the file end type *.ui. Make sure to save these layout files to /src/view/layouts for sake of
organization.</p>
<h2 id="step-2-create-references-to-the-new-mode-in-the-codebase">Step 2. Create references to the new mode in the codebase</h2>
<p>I will show how to do this through the example of making a new mode called "Compression":</p>
<h3 id="2a-add-the-mode-to-the-startup-session-window">2a. Add the mode to the startup session window</h3>
<p>You will first need to edit /src/view/layouts/SessionStartupGUI.ui in the QtDesigner. Double click on the QComboBox
"chooseVisStyle", then add "Compression" as another option.</p>
<h3 id="2b-add-the-mode-to-init_charts">2b. Add the mode to init_charts</h3>
<pre><code class="language-py">
...
elif layout == &quot;Compression&quot;: # this is the name you added in part 2a
    from src.controller.modes.mode_compression import setup_compression_plots # this is a file you need to make
    setup_compression_plots(app, CURRENT_THEME, themes, NUM_CHANNELS_PER_BUFFER) # follow convention of setup_INSERT-MODE-NAME
...

</code></pre>
<h3 id="2c-create-a-dedicated-file-in-srccontrollermodes">2c. Create a dedicated file in /src/controller/modes</h3>
<p>In this case, call it setup_compression_plots, like in the code snippet 2b.</p>
<p>You will need to create the following function within that file:</p>
<pre><code class="language-py">def setup_compression_plots(app, CURRENT_THEME, themes, NUM_CHANNELS_PER_BUFFER):
    # (1) load the Qt Designer template
    uic.loadUi(&quot;./src/view/layouts/Compression.ui&quot;, app)

    # (2) hook up w GUI loop
    app.charts = { # ---&gt; these are variable names in the QtDesigner plots
        #&quot;arrayMap&quot;: app.arrayMap,
        #&quot;miniMap&quot;: app.miniMap
    }

    app.chart_update_function_mapping = { # ---&gt; these are functions in src/controller/plots/*.py
        #&quot;arrayMap&quot;: update_array_map_plot
        #&quot;miniMap&quot;: update_mini_map_plot,
    }
    app.chart_update_extra_params = {
        #&quot;arrayMap&quot;: None,
       # &quot;miniMap&quot;: None
    }

    app.CHART_MIN_TIME_TO_REFRESH = {
        #&quot;arrayMap&quot;: 4,
        #&quot;miniMap&quot;: 2,
    }

    #setupArrayMap(app, app.charts[&quot;arrayMap&quot;], CURRENT_THEME, themes)
    #setupMiniMapPlot(app, app.charts[&quot;miniMap&quot;], CURRENT_THEME, themes)

    # (3) Set up additional functionality
    #app.actionUpdateSession.triggered.connect(app.OnNewSession)
    print(&quot;successfully loaded compression plots!&quot;)
</code></pre>
<h3 id="2d">2d.</h3>
<p>Add any plot logic related to the mode in src/controller/plots/</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../getting-started/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Getting Started" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Getting Started
            </div>
          </div>
        </a>
      
      
        
        <a href="../setup-a-new-external-window/" class="md-footer__link md-footer__link--next" aria-label="Next: Setup a new external window" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Setup a new external window
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6e54b5cd.min.js"></script>
      
    
  </body>
</html>